import "./service.scss";

export default function Services({ handleContactScroll }) {
  const videoResources = [
    {
      head: "AI Photobooth Touch screen",
      link: "https://youtube.com/shorts/p24VFWZZdNE?si=ABZO0Z1r_3ewzQ7B",
      Deliverables: [
        {
          title: "Custom designs",
        },
        {
          title: "Plug and play software",
        },
        {
          title: "Technician (on pre bookings)",
        },
        {
          title: "Laptop, iPad Device (optional)",
        },
        {
          title: "Unlimited Photos",
        },
        {
          title: "Email, QR code and Print option",
        },
        {
          title: "Delivery Timeline - 2 to 3 Days",
        },
      ],

      isYouTube: true,
    },
    {
      head: "Caricature Photobooth",
      link: "https://www.youtube.com/shorts/IWRT9jyorsY",
      Deliverables: [
        {
          title: "Group engagement (Multiple users)",
        },
        {
          title: "Custom Designs",
        },
        {
          title: "Instant online sharing",
        },
        {
          title: "Unlimited Photo Ops",
        },
        {
          title: "Event theme designed software",
        },
        {
          title: "All mobile device support",
        },
        {
          title: "Laptop, ipad (If required)",
        },
      ],
      isYouTube: true,
    },
    {
      head: "360 Photobooth",
      link: "https://www.youtube.com/shorts/97xAj1S_pHU",
      Deliverables: [
        {
          title: "Custom Designs",
        },
        {
          title: "360 Photobooth Machine setup",
        },
        {
          title: "On-site technician",
        },
        {
          title: "Instant online sharing ",
        },
        {
          title: "Unlimited Videos",
        },
        {
          title: "Event theme designed software",
        },
        {
          title: "All mobile device support",
        },
      ],
      isYouTube: true,
    },
    {
      head: "AI Group Photobooth",
      link: "https://youtube.com/shorts/IWRT9jyorsY?si=KncfcdskP0_hfbLa",
      Deliverables: [
        {
          title: "Group engagement (Multiple users)",
        },
        {
          title: "On-site technician",
        },
        {
          title: "Instant online sharing",
        },
        {
          title: "Unlimited Photo Ops",
        },
        {
          title: "Event theme designed software",
        },
        {
          title: "All mobile device support",
        },
        {
          title: "Laptop, ipad (If required)",
        },
      ],
      isYouTube: true,
    },
    {
      head: "AI Video transformation",
      link: "https://youtube.com/shorts/VObieJn81mQ?si=lB8ElxjqapmNb2V8",
      Deliverables: [
        {
          title: "Custom Designs",
        },
        {
          title: "Trained theme based transformation",
        },
        {
          title: "On-site technician",
        },
        {
          title: "Event theme designed software",
        },
        {
          title: "All mobile device support",
        },
        {
          title: "Email or Whastapp video sharing",
        },
        {
          title: "Laptop, ipad (If required)",
        },
      ],
      isYouTube: true,
    },
    {
      head: "AI Photobooth For Independence Day",
      link: "https://youtube.com/shorts/9gKEgotimp4?si=E-AkdsISOtIB6iOt",
      Deliverables: [
        {
          title: "Custom designs",
        },
        {
          title: "Plug and play software",
        },
        {
          title: "Technician (on pre bookings)",
        },
        {
          title: "Laptop, iPad Device (optional)",
        },
        {
          title: "Unlimited Photos",
        },
        {
          title: "Email, QR code and Print option",
        },
        {
          title: "Delivery Timeline - 2 to 3 Days",
        },
      ],
      isYouTube: true,
    },
    {
      head: "AI Photobooth for Microsoft Hackathon",
      link: "https://youtube.com/shorts/Mdq7vXS1YBk",
      Deliverables: [
        {
          title: "Custom designs",
        },
        {
          title: "Plug and play software",
        },
        {
          title: "Technician (on pre bookings)",
        },
        {
          title: "Laptop, iPad Device (optional)",
        },
        {
          title: "Unlimited Photos",
        },
        {
          title: "Email, QR code and Print option",
        },
        {
          title: "Delivery Timeline - 2 to 3 Days",
        },
      ],
      isYouTube: true,
    },
    {
      head: "AI Photobooth for iPad",
      link: "https://www.youtube.com/shorts/uLa_STtvLmQ",
      Deliverables: [
        {
          title: "Custom designs",
        },
        {
          title: "Plug and play software",
        },
        {
          title: "Technician (on pre bookings)",
        },
        {
          title: "Laptop, iPad Device (optional)",
        },
        {
          title: "Unlimited Photos",
        },
        {
          title: "Email, QR code and Print option",
        },
        {
          title: "Delivery Timeline - 2 to 3 Days",
        },
      ],
      isYouTube: true,
    },
    {
      head: "AI Photobooth Comicon",
      link: "https://youtu.be/R6DbN0K5I0Y?feature=shared",
      Deliverables: [
        {
          title: "Custom designs",
        },
        {
          title: "Plug and play software",
        },
        {
          title: "Technician (on pre bookings)",
        },
        {
          title: "Laptop, iPad Device (optional)",
        },
        {
          title: "Unlimited Photos",
        },
        {
          title: "Email, QR code and Print option",
        },
        {
          title: "Delivery Timeline - 2 to 3 Days",
        },
      ],
      isYouTube: true,
    },
    {
      head: "AI Photobooth Wella Professionals",
      link: "https://youtu.be/ZiG7UfhAajc?feature=shared",
      Deliverables: [
        {
          title: "Custom designs",
        },
        {
          title: "Plug and play software",
        },
        {
          title: "Technician (on pre bookings)",
        },
        {
          title: "Laptop, iPad Device (optional)",
        },
        {
          title: "Unlimited Photos",
        },
        {
          title: "Email, QR code and Print option",
        },
        {
          title: "Delivery Timeline - 2 to 3 Days",
        },
      ],
      isYouTube: true,
    },
    {
      head: "AI Photobooth Voyage 2024",
      link: "https://youtu.be/c1DmliD8bow?feature=shared",
      Deliverables: [
        {
          title: "Custom designs",
        },
        {
          title: "Plug and play software",
        },
        {
          title: "Technician (on pre bookings)",
        },
        {
          title: "Laptop, iPad Device (optional)",
        },
        {
          title: "Unlimited Photos",
        },
        {
          title: "Email, QR code and Print option",
        },
        {
          title: "Delivery Timeline - 2 to 3 Days",
        },
      ],
      isYouTube: true,
    },
  ];

  const getYouTubeEmbedUrl = (link) => {
    // Check if link is defined and a valid string
    if (!link || typeof link !== "string") {
      return "";
    }

    // Check if the link is a YouTube Shorts URL
    const isShorts = link.includes("/shorts/");
    if (isShorts) {
      const videoId = link.split("/shorts/")[1].split("?")[0]; // Extract video ID for Shorts
      return `https://www.youtube.com/embed/${videoId}`;
    }

    // Check for YouTube short URL format (youtu.be)
    const isYouTubeShort = link.includes("youtu.be/");
    if (isYouTubeShort) {
      const videoId = link.split("youtu.be/")[1].split("?")[0]; // Extract video ID from youtu.be
      return `https://www.youtube.com/embed/${videoId}`;
    }

    // If it's not a Shorts link, generate embed URL from normal YouTube URL
    const videoId = link.split("v=")[1]?.split("&")[0]; // Extract video ID for normal videos
    if (!videoId) {
      return ""; // Return empty string if no video ID is found
    }

    return `https://www.youtube.com/embed/${videoId}`;
  };
  const firstFiveResources = videoResources.slice(0, 5); // Get the first 5 items
  const latestDeliveries = videoResources.slice(5); // Get the remaining items

  return (
    <div className="Service">
      <div className="whatProvide">
        <h2 className="serviceTitle">What We Provide</h2>
        <div className="eventList">
          {firstFiveResources.map((service, index) => (
            <div key={index} className="serviceItem">
              <h3>{service.head}</h3>
              <div className="videoContainer">
                {service.isYouTube ? (
                  <iframe
                    src={getYouTubeEmbedUrl(service.link)}
                    title={service.head}
                    frameBorder="0"
                    width="100%"
                    height="100%"
                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                    allowFullScreen
                  />
                ) : (
                  <video src={service.link} controls width="100%" />
                )}
              </div>
              <div className="latestDeliver">
                {service.Deliverables && service.Deliverables.length > 0 ? (
                  <ul className="deliverablesList">
                    {service.Deliverables.map((item, idx) => (
                      <li key={idx}>⭐ {item.title}</li>
                    ))}
                  </ul>
                ) : (
                  <p>No deliverables available.</p>
                )}
              </div>
              <button
                onClick={handleContactScroll}
                className="enquireNowButton"
              >
                Get Quotes
              </button>
            </div>
          ))}
        </div>
      </div>
      <div className="wordsTransition">
        {/* <h3>Other Services</h3> */}
        <span>AI Custom solutions</span>
        <span>Gaming Solutions</span>
        <span>AR/VR solutions</span>
      </div>

      {/* Latest Deliveries Section */}
      {latestDeliveries.length > 0 && (
        <div className="latestDeliveries">
          <p className="latestTitle">Latest Deliveries</p>
          <div className="eventList">
            {latestDeliveries.map((service, index) => (
              <div key={index} className="serviceItem">
                <h3>{service.head}</h3>
                <div className="videoContainer">
                  {service.isYouTube ? (
                    <iframe
                      src={getYouTubeEmbedUrl(service.link)}
                      title={service.head}
                      frameBorder="0"
                      width="100%"
                      height="100%"
                      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                      allowFullScreen
                    />
                  ) : (
                    <video src={service.link} controls width="100%" />
                  )}
                </div>
                <div className="latestDeliver">
                  {service.Deliverables && service.Deliverables.length > 0 ? (
                    <ul className="deliverablesList">
                      {service.Deliverables.map((item, idx) => (
                        <li key={idx}>⭐ {item.title}</li>
                      ))}
                    </ul>
                  ) : (
                    <p>No deliverables available.</p>
                  )}
                </div>
                <button
                  onClick={handleContactScroll}
                  className="enquireNowButton"
                >
                  Get Quotes
                </button>
              </div>
            ))}
          </div>
        </div>
      )}

      {/* <button className="getQuoteBtn">Get Quotes</button> */}
    </div>
  );
}
